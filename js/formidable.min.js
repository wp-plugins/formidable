jQuery(document).ready(function(a){a(".frm_ajax_loading").css("visibility","hidden");var c=a(".frm_blank_field").closest(".frm_toggle_container").prev(".frm_trigger");c&&frmToggleSection(c);$('.frm-show-form input,.frm-show-form textarea').placeholder();if(a.isFunction(a.fn.on))a(document).on("click",'.frm-show-form input[type="submit"], .frm-show-form input[name="frm_prev_page"], .frm-show-form .frm_save_draft',frmSetNextPage);else a('.frm-show-form input[type="submit"], .frm-show-form input[name="frm_prev_page"], .frm-show-form .frm_save_draft').live("click",
frmSetNextPage)});function frmSetNextPage(){var a=jQuery(this).parents("form:first");if("frm_prev_page"==jQuery(this).attr("name")||jQuery(this).hasClass("frm_prev_page"))var c=jQuery(a).find(".frm_next_page").attr("id").replace("frm_next_p_",""),d="";else"frm_save_draft"==jQuery(this).attr("name")||jQuery(this).hasClass("frm_save_draft")?(c="",d=1):d=c="";jQuery(".frm_next_page").val(c);jQuery(".frm_saving_draft").val(d);a.submit()}
function frmToggleSection(a){a.next(".frm_toggle_container").slideToggle(200);a.hasClass("active")?(a.removeClass("active"),a.children(".ui-icon-triangle-1-s").addClass("ui-icon-triangle-1-e"),a.children(".ui-icon-triangle-1-e").removeClass("ui-icon-triangle-1-s")):(a.addClass("active"),a.children(".ui-icon-triangle-1-e").addClass("ui-icon-triangle-1-s"),a.children(".ui-icon-triangle-1-s").removeClass("ui-icon-triangle-1-e"))}
function frmClearDefault(a,c){a=a.replace(/(\n|\r\n)/g,"\r");c.value.replace(/(\n|\r\n)/g,"\r")==a&&(c.value="",jQuery(c).removeClass("frm_default"))}function frmReplaceDefault(a,c){a=a.replace(/(\n|\r\n)/g,"\r");""==c.value&&(c.value=a,jQuery(c).addClass("frm_default"))}
function frmCheckDependent(a,c){if("undefined"!=typeof __FRMRULES)var d=__FRMRULES;if("undefined"!=typeof d&&(d=d[c],"undefined"!=typeof d)){for(var e=[],f=0;f<d.length;f++){var h=d[f];if("undefined"!=typeof h)for(var l=0;l<h.Conditions.length;l++){var k=h.Conditions[l];k.HideField=h.Setting.FieldName;k.MatchType=h.MatchType;k.Show=h.Show;e.push(k)}}for(var g=[],m=[],n=e.length,f=0;f<n;f++)(function(d){var b=e[d];"undefined"==typeof g[b.HideField]&&(g[b.HideField]=[]);if(b.FieldName!=c||"undefined"==
typeof a){var f=a;"radio"==b.Type||"data-radio"==b.Type?a=jQuery("input[name='item_meta["+b.FieldName+"]']:checked, input[type='hidden'][name='item_meta["+b.FieldName+"]']").val():"select"==b.Type||"data-select"==b.Type?a=jQuery("select[name='item_meta["+b.FieldName+"]'], input[type='hidden'][name='item_meta["+b.FieldName+"]']").val():"checkbox"!=b.Type&&"data-checkbox"!=b.Type&&(a=jQuery("input[name='item_meta["+b.FieldName+"]']").val())}"undefined"==typeof a&&(a=jQuery("input[type=hidden][name='item_meta["+
b.FieldName+"]']").val(),"undefined"==typeof a&&(a=""));if("checkbox"==b.Type)g[b.HideField][d]=!1,jQuery("input[name='item_meta["+b.FieldName+"][]']:checked, input[type='hidden'][name^='item_meta["+b.FieldName+"]']").each(function(){var a=frmOperators(b.Condition,b.Value,jQuery(this).val());!1==g[b.HideField][d]&&a&&(g[b.HideField][d]=!0)});else if("data-radio"==b.Type)"undefined"==typeof b.DataType||""==b.DataType||"data"==b.DataType?""==a?(g[b.HideField][d]=!1,jQuery("#frm_field_"+b.HideField+
"_container").fadeOut("slow"),jQuery("#frm_data_field_"+b.HideField+"_container").html("")):g[b.HideField][d]="undefined"==typeof b.DataType?frmOperators(b.Condition,b.Value,a):{funcName:"frmGetData",f:b,sel:a}:g[b.HideField][d]=""==a?!1:{funcName:"frmGetDataOpts",f:b,sel:a};else if("data-checkbox"==b.Type){var h=[];jQuery("input[name='item_meta["+b.FieldName+"][]']:checked, input[type='hidden'][name='item_meta["+b.FieldName+"][]']").each(function(){h.push(jQuery(this).val())});"undefined"==typeof b.DataType||
""==b.DataType||"data"==b.DataType?0==h.length?(g[b.HideField][d]=!1,jQuery("#frm_field_"+b.HideField+"_container").fadeOut("slow"),jQuery("#frm_data_field_"+b.HideField+"_container").html("")):(g[b.HideField][d]=!0,jQuery("#frm_data_field_"+b.HideField+"_container").html(""),frmGetData(b,h,1)):g[b.HideField][d]=0==h.length?!1:{funcName:"frmGetDataOpts",f:b,sel:h}}else"data-select"==b.Type&&"undefined"!=typeof b.LinkedField?""==b.DataType||"data"==b.DataType?""==a?(g[b.HideField][d]=!1,jQuery("#frm_data_field_"+
b.HideField+"_container").html("")):a&&jQuery.isArray(a)?(g[b.HideField][d]=!0,jQuery("#frm_data_field_"+b.HideField+"_container").html(""),frmGetData(b,a,1)):g[b.HideField][d]={funcName:"frmGetData",f:b,sel:a}:g[b.HideField][d]=""==a?!1:{funcName:"frmGetDataOpts",f:b,sel:a}:"undefined"==typeof b.Value&&0===b.Type.indexOf("data")?(b.Value=""==a?"1":a,g[b.HideField][d]=frmOperators(b.Condition,b.Value,a),b.Value=void 0):g[b.HideField][d]=frmOperators(b.Condition,b.Value,a);b.FieldName!=c&&(a=f);"any"==
b.MatchType?!1!=g[b.HideField][d]?"show"==b.Show?!0!=g[b.HideField][d]?frmShowField(g[b.HideField][d],b.FieldName):jQuery("#frm_field_"+b.HideField+"_container").show():jQuery("#frm_field_"+b.HideField+"_container").hide():m.push({result:g[b.HideField][d],show:b.Show,match:"any",fname:b.FieldName,fkey:b.HideField}):"all"==b.MatchType&&m.push({result:g[b.HideField][d],show:b.Show,match:"all",fname:b.FieldName,fkey:b.HideField});d==n-1&&jQuery.each(m,function(a,b){"undefined"!=typeof b&&"undefined"!=
typeof b.result&&("any"==b.match&&!frmInArray(!0,g[b.fkey])||"all"==b.match&&frmInArray(!1,g[b.fkey])?"show"==b.show?(jQuery("#frm_field_"+b.fkey+"_container:hidden").hide(),jQuery("#frm_field_"+b.fkey+"_container").hide()):jQuery("#frm_field_"+b.fkey+"_container").show():"show"==b.show?jQuery("#frm_field_"+b.fkey+"_container").show():(jQuery("#frm_field_"+b.fkey+"_container:hidden").hide(),jQuery("#frm_field_"+b.fkey+"_container").hide()),!1!=typeof b.result&&!0!=typeof b.result&&frmShowField(b.result,
b.fname),delete m[a])})})(f)}}function frmOperators(a,c,d){"undefined"==typeof d&&(d="");jQuery.isArray(d)&&-1<jQuery.inArray(c,d)&&(d=c);-1!=String(c).search(/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/)&&(c=parseFloat(c),d=parseFloat(d));return{"==":function(a,c){return a==c},"!=":function(a,c){return a!=c},"<":function(a,c){return a>c},">":function(a,c){return a<c},LIKE:function(a,c){return-1!=c.indexOf(a)},"not LIKE":function(a,c){return-1==c.indexOf(a)}}[a](c,d)}
function frmInArray(a,c){if("undefined"==typeof c)return!1;for(var d=c.length,e=0;e<d;e++)if(c[e]==a)return!0;return!1}function frmShowField(a,c){"frmGetDataOpts"==a.funcName?frmGetDataOpts(a.f,a.sel,c):"frmGetData"==a.funcName&&frmGetData(a.f,a.sel,0)}
function frmGetData(a,c,d){d||jQuery("#frm_data_field_"+a.HideField+"_container").html('<span class="frm-loading-img"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_fields_ajax_get_data&entry_id="+c+"&field_id="+a.LinkedField+"&current_field="+a.HideField,success:function(e){""!=e&&jQuery("#frm_field_"+a.HideField+"_container").show();if(d)jQuery("#frm_data_field_"+a.HideField+"_container").append(e);else{jQuery("#frm_data_field_"+a.HideField+"_container").html(e);var f=jQuery("#frm_data_field_"+
a.HideField+"_container").children("input").val();""!=e&&""!=f||jQuery("#frm_field_"+a.HideField+"_container").hide();frmCheckDependent(c,a.HideField)}return!0}})}
function frmGetDataOpts(a,c,d){var e=[];if("checkbox"==a.DataType||"radio"==a.DataType)jQuery("input[name^='item_meta["+a.HideField+"]']:checked, input[type='hidden'][name^='item_meta["+a.HideField+"]']").each(function(){e.push(jQuery(this).val())});else if("select"==a.DataType){var f=0<jQuery("select[name='item_meta["+a.HideField+"][]']").length?"[]":"";e.push(jQuery("select[name='item_meta["+a.HideField+"]"+f+"']").val())}else e.push(jQuery("input[name='item_meta["+a.HideField+"]']").val());jQuery("#frm_data_field_"+
a.HideField+"_container").html('<span class="frm-loading-img"></span>');0==e.length&&(e="");jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_fields_ajax_data_options&hide_field="+d+"&entry_id="+c+"&selected_field_id="+a.LinkedField+"&field_id="+a.HideField,success:function(c){""==c?(jQuery("#frm_field_"+a.HideField+"_container").hide(),e=""):"all"!=a.MatchType&&jQuery("#frm_field_"+a.HideField+"_container").show();jQuery("#frm_data_field_"+a.HideField+"_container").html(c);jQuery(c).hasClass("frm_chzn")&&
jQuery(".frm_chzn").chosen();""!=c&&""!=e&&jQuery.each(e,function(c,d){"checkbox"==a.DataType?jQuery("#field_"+a.HideField+"-"+d).attr("checked","checked"):"select"==a.DataType?0<jQuery("select[name='item_meta["+a.HideField+"]"+f+"'] option[value="+d+"]").length?jQuery("select[name='item_meta["+a.HideField+"]"+f+"']").val(d):e.splice(c,1):jQuery("input[name='item_meta["+a.HideField+"]']").val(d)});frmCheckDependent(e,a.HideField)}})}
function frmOnSubmit(a){a.preventDefault();jQuery(this).find(".wp-editor-wrap").length&&tinyMCE.triggerSave();frmGetFormErrors(this)}
function frmGetFormErrors(a){jQuery(a).find('input[type="submit"], input[type="button"]').attr("disabled","disabled");jQuery(a).find(".frm_ajax_loading").css("visibility","visible");jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:jQuery(a).serialize()+"&action=frm_entries_"+jQuery(a).find('input[name="frm_action"]').val()+"&_ajax_nonce=1",success:function(c){c=c.replace(/^\s+|\s+$/g,"");0===c.indexOf("{")&&(c=jQuery.parseJSON(c));if(""==c||!c||"0"==c||"object"!=typeof c&&0===c.indexOf("<!DOCTYPE"))jQuery("#frm_loading").length&&
(c=jQuery(a).find("input[type=file]").val(),"undefined"!=typeof c&&""!=c&&window.setTimeout(function(){jQuery("#frm_loading").fadeIn("slow")},2E3)),jQuery(a).find("#recaptcha_area").length&&(1>jQuery(a).find(".frm_next_page").length||1>jQuery(a).find(".frm_next_page").val())&&jQuery(a).find("#recaptcha_area").replaceWith(""),a.submit();else if("object"!=typeof c){jQuery(a).find(".frm_ajax_loading").css("visibility","hidden");var d=jQuery(a).closest("#frm_form_"+jQuery(a).find('input[name="form_id"]').val()+
"_container"),e=d.offset().top;d.replaceWith(c);var f=document.documentElement.scrollTop||document.body.scrollTop;e&&0<e&&f>e&&jQuery(window).scrollTop(e);if("function"==typeof frmThemeOverride_frmAfterSubmit){if(d=jQuery(c).find('input[name="form_id"]').val())var h=jQuery('input[name="frm_page_order_'+d+'"]').val();frmThemeOverride_frmAfterSubmit(d,h,c)}0<jQuery(a).find('input[name="id"]').length&&(c=jQuery(a).find('input[name="id"]').val(),jQuery("#frm_edit_"+c).find("a").addClass("frm_ajax_edited").click())}else{jQuery(a).find('input[type="submit"], input[type="button"]').removeAttr("disabled");
jQuery(a).find(".frm_ajax_loading").css("visibility","hidden");h=!0;jQuery(".form-field").removeClass("frm_blank_field");jQuery(".form-field .frm_error").replaceWith("");var d="",l=!1,k;for(k in c)jQuery(a).find("#frm_field_"+k+"_container").length&&jQuery("#frm_field_"+k+"_container").is(":visible")&&(h=!1,""==d&&(d="#frm_field_"+k+"_container",e=jQuery(a).find(d).offset().top,f=jQuery("html").css("margin-top"),e&&f&&(e-=parseInt(f)),f=document.documentElement.scrollTop||document.body.scrollTop,
e&&f>e&&jQuery(window).scrollTop(e-4)),jQuery(a).find("#frm_field_"+k+"_container #recaptcha_area").length&&(l=!0,Recaptcha.reload()),jQuery(a).find("#frm_field_"+k+"_container").addClass("frm_blank_field"),"function"==typeof frmThemeOverride_frmPlaceError?frmThemeOverride_frmPlaceError(k,c):jQuery(a).find("#frm_field_"+k+"_container").append('<div class="frm_error">'+c[k]+"</div>"));!0!=l&&jQuery(a).find("#recaptcha_area").replaceWith("");h&&a.submit()}},error:function(c){jQuery(a).find('input[type="submit"], input[type="button"]').removeAttr("disabled");
a.submit()}})}
function frmEditEntry(a,c,d,e,f,h){var l=jQuery("#frm_edit_"+a).text(),k=jQuery("#"+c+a).html();jQuery("#"+c+a).html('<span class="frm-loading-img" id="'+c+a+'"></span><div class="frm_orig_content" style="display:none">'+k+"</div>");jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"html",data:"action=frm_entries_edit_entry_ajax&post_id="+d+"&entry_id="+a+"&id="+e,success:function(g){jQuery("#"+c+a).children(".frm-loading-img").replaceWith(g);jQuery("#frm_edit_"+a).replaceWith('<span id="frm_edit_'+a+
'"><a onclick="frmCancelEdit('+a+",'"+c+"','"+l+"',"+d+","+e+",'"+h+'\')" class="'+h+'">'+f+"</a></span>")}})}
function frmCancelEdit(a,c,d,e,f,h){var l=jQuery("#frm_edit_"+a).text();jQuery("#frm_edit_"+a).find("a").hasClass("frm_ajax_edited")||(jQuery("#"+c+a).children(".frm_forms").replaceWith(""),jQuery("#"+c+a).children(".frm_orig_content").fadeIn("slow").removeClass("frm_orig_content"));jQuery("#frm_edit_"+a).replaceWith('<a id="frm_edit_'+a+'" class="frm_edit_link '+h+'" href="javascript:frmEditEntry('+a+",'"+c+"',"+e+","+f+",'"+l+"','"+h+"')\">"+d+"</a>")}
function frmUpdateField(a,c,d,e,f){jQuery("#frm_update_field_"+a+"_"+c).html('<span class="frm-loading-img"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_entries_update_field_ajax&entry_id="+a+"&field_id="+c+"&value="+d,success:function(d){""==e.replace(/^\s+|\s+$/g,"")?jQuery("#frm_update_field_"+a+"_"+c+"_"+f).fadeOut("slow"):jQuery("#frm_update_field_"+a+"_"+c+"_"+f).replaceWith(e)}})}
function frmDeleteEntry(a,c){jQuery("#frm_delete_"+a).replaceWith('<span class="frm-loading-img" id="frm_delete_'+a+'"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_entries_destroy&entry="+a,success:function(d){"success"==d.replace(/^\s+|\s+$/g,"")?jQuery("#"+c+a).fadeOut("slow"):jQuery("#frm_delete_"+a).replaceWith(d)}})}function frmRemoveDiv(a){jQuery(a).fadeOut("slow").replaceWith("")}
function frmNextUpload(a,c,d){a.wrap('<div class="frm_file_names frm_uploaded_files">');a.after(a.val()+' <a href="#" onclick="frmClearFile(jQuery(this));return false;">'+d+"</a>");a.hide();jQuery("#frm_field_"+c+"_container").append('<input name="file'+c+'[]" type="file" onchange="frmNextUpload(jQuery(this),'+c+",'"+d+"')\"/>")}function frmClearFile(a){a.parent(".frm_file_names").replaceWith("");return!1}
function frm_resend_email(a,c){jQuery("#frm_resend_email").replaceWith('<img id="frm_resend_email" src="'+frm_js.images_url+'/wpspin_light.gif" alt="'+frm_js.loading+'" />');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:"action=frm_entries_send_email&entry_id="+a+"&form_id="+c+"&type=email",success:function(a){jQuery("#frm_resend_email").replaceWith(a)}})}jQuery.fn.frmVisible=function(){return this.css("visibility","visible")};jQuery.fn.frmInvisible=function(){return this.css("visibility","hidden")};
jQuery.fn.frmVisibilityToggle=function(){return this.css("visibility",function(a,c){return"visible"==c?"hidden":"visible"})};